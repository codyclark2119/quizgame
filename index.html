<!DOCTYPE html>
<html>

<head>
    <title>Trivia Game!</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
    <link rel="stylesheet" href="./style.css" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Bangers|Permanent+Marker" rel="stylesheet">
</head>

<body>
    <header>
        <div class="container">
            <div class="row">
                <div class="container text-center">
                    <h1>ONE PIECE TRIVIA</h1>
                </div>
            </div>
        </div>
    </header>

    <div class="container">
        <div class="row">
            <div class="container">
                <h2 class="text-center" id="question">jeff</h2>
                <br><br>
                <div id="answer-choice"></div>
            </div>
        </div>
    </div>

    <div class="container-fluid">
        <div class="row">
            <div class="container text-center">
                <h2 id="timer">0:00</h2>
            </div>
        </div>
    </div>

<script>
    //questions/answers
    var answerKey = {
        question1: {
            Question: "Which crewmate had the lowest starting bounty?",
            answerChoices: ["Nami", "Chopper","Sanji" ,"Usopp"],
            wrongAnswers: ["Sanji", "Usopp", "Nami"],
            correctAnswer: "Chopper",
        },

        question2: {
            Question: "Who has had their bounty for the longest time?",
            answerChoices: ["Brook", "Usopp", "Luffy","Franky"],
            wrongAnswers: ["Franky", "Usopp", "Luffy"],
            correctAnswer: "Brook",
        },

        question3: {
            Question: "Who is called the child of demons?",
            answerChoices: ["Nami", "Brook","Robin", "Luffy"],
            wrongAnswers: ["Nami", "Brook", "Luffy"],
            correctAnswer: "Robin",
        },

        question4: {
            Question: "Which character did Luffy fight against as an enemy before they joined the crew?",
            answerChoices: ["Usopp", "Robin", "Franky", "Sanji"],
            wrongAnswers: ["Sanji", "Usopp", "Robin"],
            correctAnswer: "Franky",
        },

        question5: {
            Question: "Of the following crewmembers, who had not eaten a Devil's Fruit when they joined?",
            answerChoices: ["Zoro", "Brook", "Robin", "Luffy"],
            wrongAnswers: ["Brook", "Robin", "Luffy"],
            correctAnswer: "Zoro",
        },

        question6: {
            Question: "Which character has a bounty under a pseudonym?",
            answerChoices: ["Nami","Usopp", "Brook", "Luffy"],
            wrongAnswers: ["Nami", "Brook", "Luffy"],
            correctAnswer: "Usopp",
        },

        question7: {
            Question: "Zoro received training from which swordsman during the two year timeskip?",
            answerChoices: ["Trafalgar Law",  "Vista", "Shanks", "Dracule Mihawk"],
            wrongAnswers: ["Trafalgar Law",  "Vista", "Shanks"],
            correctAnswer: "Dracule Mihawk",
        },

        question8: {
            Question: "Where did the Straw Hats first meet Brook?",
            answerChoices: ["On Enies Lobby","In the Florian Triangle" , "On Sabaody Archipelago","In Marineford" ],
            wrongAnswers: ["On Enies Lobby", "In Marineford", "On Sabaody Archipelago"],
            correctAnswer: "In the Florian Triangle",
        },

        question9: {
            Question: "Who was the current/former Shichibukai invited into the Straw Hat crew?",
            answerChoices: ["Boa Hancock", "Dracule Mihawk","Jinbe", "Crocodile" ],
            wrongAnswers: ["Boa Hancock", "Dracule Mihawk", "Crocodile"],
            correctAnswer: "Jinbe",
        },

        question10: {
            Question: "Who was the first one of the Straw Hat crew to reach Sabaody Archipelago?",
            answerChoices: ["Sanji", "Robin", "Usopp", "Zoro"],
            wrongAnswers: ["Sanji", "Robin", "Usopp"],
            correctAnswer: "Zoro",
        },
    }

    //variable that cycles through the question objects.
    var game = [answerKey.question1, answerKey.question2, answerKey.question3, answerKey.question4, answerKey.question5,
    answerKey.question6, answerKey.question7, answerKey.question8, answerKey.question9, answerKey.question10];
    //variable to populate with each questions answer choices then clear.
    var allChoices = [];
    //variable to populate with wrong answers to compare user guess to.
    var wrongCompare = [];
    //same but with the correct answer.
    var correctCompare = [];
    //global variable that runs through the game variable array.
    var gameLength = 0;

    var isCorrect = false;
            
    $(document).ready(function gameRun() {
        allChoices = [];
        wrongCompare = [];
        correctCompare = []
        createChoices();    

        allChoices.push(game[gameLength].answerChoices);
        wrongCompare.push(game[gameLength].wrongAnswers);
        correctCompare.push(game[gameLength].correctAnswer);
        console.log("Correct Answer:" + correctCompare);

        $(".answer-choice").on("click", function answerCheck() {
            if (this.value === correctCompare[0]) {
                gameLength++;
                gameRun();
            }
           
            else {
                alert("WRONG");
                gameLength = 0;
                gameRun();

            }

        });
        
    });

        //empties the question and answer divs, then creates divs to populate it with the question/answers that
        //the function game run is on, and appending them

    function createChoices() {
        $("#answer-choice").empty();
        $("#question").empty();
        for (var i = 0; i < game[gameLength].answerChoices.length; i++) {
            //question generator
            var questionLoad = $("#question");
            questionLoad.text("Question: " + game[gameLength].Question);
            //answer button generator
            var button = $("<button></button><br><br>");
            button.addClass("answer-choice text-center col-lg-12");
            button.attr("value", game[gameLength].answerChoices[i]);
            button.text(game[gameLength].answerChoices[i]);
            $("#answer-choice").append(button);
        }
    };



</script>
</body>
</html>